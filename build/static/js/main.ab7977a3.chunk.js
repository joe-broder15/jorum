(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,c){},151:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(38),r=c.n(n),j=(c(101),c(7)),i=c(8),l=c(13),b=c(90),d=c.n(b).a.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});function h(e){var t=Object(s.useState)([]),c=Object(j.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),l=i[0],b=i[1],h=Object(s.useState)(null),O=Object(j.a)(h,2),u=O[0],o=O[1];return Object(s.useEffect)((function(){d.get(e).then((function(e){n(e.data),b(!0)})).catch((function(e){o(e)}))}),[e]),{error:u,isLoaded:l,data:a}}var O=c(163),u=c(0);function o(e){return Object(u.jsx)(i.b,{to:"/user/"+e.user,children:e.user})}function x(e){return Object(u.jsx)(O.a,{children:Object(u.jsxs)(O.a.Body,{children:[Object(u.jsx)(O.a.Title,{children:Object(u.jsx)(i.b,{to:"/post/"+e.data.id,children:e.data.title+" "+e.data.id})}),Object(u.jsx)(O.a.Text,{children:e.data.text}),Object(u.jsx)(O.a.Text,{children:Object(u.jsxs)("i",{children:["Made By: ",Object(u.jsx)(o,{user:e.data.user})]})})]})})}var m=c(156),f=c(157),p=c(158),v=c(92);function g(){var e=h("/post"),t=e.data,c=e.error,s=e.isLoaded;return null!==c?Object(u.jsxs)("div",{children:["Error: ",c.message]}):s?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Posts"}),t.map((function(e){return Object(u.jsx)(p.a,{className:"justify-content-center",children:Object(u.jsx)(v.a,{children:Object(u.jsx)(x,{data:e})})})}))]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}var y=a.a.createContext(),S=c(162),C=c(93);function k(){var e=Object(l.f)(),t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1],i=Object(s.useState)(""),b=Object(j.a)(i,2),h=b[0],o=b[1],x=Object(s.useState)(!1),m=Object(j.a)(x,2),g=m[0],k=m[1],N=a.a.useContext(y),L=N.authState;N.setAuthState,N.userState,N.setUserState;return Object(s.useEffect)((function(){0==L&&e.push("/")})),Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Create Post"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(t){return t.preventDefault(),void(""!=n&&""!=h&&0!=g?d.post("/post",{title:n,text:h}).then((function(t){201==t.status?alert("success"):alert("fail"),e.push("/")})).catch((function(e){alert(e)})):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Title"}),Object(u.jsx)(S.a.Control,{value:n,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Description"}),Object(u.jsx)(S.a.Control,{as:"textarea",rows:"9",value:h,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(S.a.Check,{type:"checkbox",value:g,checked:g,onChange:function(e){return k(!g)},label:"Confirm"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})})]})})})})})}var N=c(164);function L(e){var t=Object(l.g)().postId,c=h("/post/"+String(t)),s=c.data,n=c.error,r=c.isLoaded,j=a.a.useContext(y),b=j.authState,d=(j.setAuthState,j.userState);return null!==n?Object(u.jsxs)("div",{children:["Error: ",n.message]}):r?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsxs)("h1",{children:["Viewing Post ",s.id]}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Title:"})}),Object(u.jsx)(v.a,{children:s.title})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Description:"})}),Object(u.jsx)(v.a,{children:s.text})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Created at:"})}),Object(u.jsx)(v.a,{children:s.created_date})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Author:"})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(o,{user:s.user})})]})})]})})}),Object(u.jsx)("br",{}),b&&null!=d&&(d.username==s.user||d.privilege>1)?Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)(i.b,{to:"/post/"+String(t)+"/edit",children:Object(u.jsx)(C.a,{children:"Edit"})})})}):""]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function w(e){var t=Object(l.g)().postId,c=Object(l.f)(),n=Object(s.useState)(""),r=Object(j.a)(n,2),i=r[0],b=r[1],o=Object(s.useState)(""),x=Object(j.a)(o,2),g=x[0],k=x[1],N=Object(s.useState)(!1),L=Object(j.a)(N,2),w=L[0],I=L[1],E=a.a.useContext(y),B=E.authState,A=(E.setAuthState,E.userState),P=h("/post/"+String(t)),G=P.data,U=(P.error,P.isLoaded),R=Object(s.useRef)(1);Object(s.useEffect)((function(){return R.current=1,B&&null!=A||c.push("/"),function(){R.current=0}}));var T=function(){U&&R&&(G.user!=A.username&&A.privilege<=1&&c.push("/"),b(G.title),k(G.text))};Object(s.useEffect)((function(){T()}),[U]);return U?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsxs)("h1",{children:["Edit Post ",G.id]}),Object(u.jsx)(O.a,{children:Object(u.jsxs)(O.a.Body,{children:[Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void(""!=i&&""!=g&&0!=w?d.put("/post/"+String(G.id),{title:i,text:g}).then((function(e){201==e.status?alert("success"):alert("fail"),c.push("/post/"+G.id)})).catch((function(e){alert(e)})):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Title"}),Object(u.jsx)(S.a.Control,{value:i,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Description"}),Object(u.jsx)(S.a.Control,{as:"textarea",rows:"9",value:g,onChange:function(e){return k(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(S.a.Check,{type:"checkbox",value:w,checked:w,onChange:function(e){return I(!w)},label:"Confirm"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]}),Object(u.jsx)(C.a,{variant:"warning",onClick:T,children:"Reset"}),Object(u.jsx)(C.a,{variant:"danger",onClick:function(){d.delete("/post/"+String(G.id)).then((function(e){200==e.status?alert("success"):alert("fail"),c.push("/")})).catch((function(e){alert(e)}))},children:"Delete"})]})})]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function I(){var e=Object(l.f)(),t=Object(s.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1],b=Object(s.useState)(""),h=Object(j.a)(b,2),o=h[0],x=h[1],m=a.a.useContext(y),g=(m.authState,m.setAuthState);return Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(t){return t.preventDefault(),void(""!=n&&""!=o?d.post("/auth/token",{email:n,password:o}).then((function(t){202==t.status?(d.defaults.headers.Authorization="JWT "+t.data,localStorage.setItem("access_token",t.data),g(!0),e.push("/")):alert(t)})).catch((function(t){401==t.response.status?e.push("/verify/instructions"):alert(t)})):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Email"}),Object(u.jsx)(S.a.Control,{type:"email",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Password"}),Object(u.jsx)(S.a.Control,{type:"password",value:o,onChange:function(e){return x(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(i.b,{to:"/forgotpassword",children:"Forgot Password"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})})]})})})})})}function E(e){var t=Object(l.f)(),c=Object(s.useState)(""),a=Object(j.a)(c,2),n=a[0],r=a[1],i=Object(s.useState)(""),b=Object(j.a)(i,2),h=b[0],o=b[1],x=Object(s.useState)(""),g=Object(j.a)(x,2),y=g[0],k=g[1],N=Object(s.useState)(""),L=Object(j.a)(N,2),w=L[0],I=L[1],E=Object(s.useState)(!1),B=Object(j.a)(E,2),A=B[0],P=B[1];return Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Register"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void(""!=n&&""!=y&&y==w&&""!=h?(d.post("/auth/user",{username:h,email:n,password:y}).then((function(e){201==e.status?(alert("success"),t.push("/verify/instructions")):alert(e),P(!1)})).catch((function(e){alert(e),P(!1)})),P(!0)):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Email"}),Object(u.jsx)(S.a.Control,{type:"email",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Username"}),Object(u.jsx)(S.a.Control,{value:h,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Password"}),Object(u.jsx)(S.a.Control,{type:"password",value:y,onChange:function(e){return k(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Confirm Password"}),Object(u.jsx)(S.a.Control,{type:"password",value:w,onChange:function(e){return I(e.target.value)}})]}),Object(u.jsx)("br",{}),A?Object(u.jsx)(m.a,{animation:"border",role:"status"}):Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})})]})})})})})}function B(e){var t=e.user,c=h("/post/user/"+t),s=c.data,a=c.error,n=c.isLoaded;return null!==a?Object(u.jsxs)("div",{children:["Error: ",a.message]}):n?Object(u.jsxs)(O.a,{children:[Object(u.jsxs)(O.a.Header,{children:["Posts by ",t]}),Object(u.jsx)(O.a.Body,{children:0==s.length?Object(u.jsx)("h4",{children:"This user hasn't made any posts yet..."}):Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:Object(u.jsx)("b",{children:"Id"})}),Object(u.jsx)(v.a,{sm:"7",children:Object(u.jsx)("b",{children:"Title"})}),Object(u.jsx)(v.a,{sm:"4",children:Object(u.jsx)("b",{children:"Date"})})]})}),s.map((function(e){return Object(u.jsx)(N.a.Item,{children:Object(u.jsx)(i.b,{to:"/post/"+e.id,children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:e.id}),Object(u.jsx)(v.a,{sm:"7",children:e.title}),Object(u.jsx)(v.a,{sm:"4",children:e.created_date})]})})})}))]})})]}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function A(e){var t=Object(l.g)().userName,c=h("/user/"+String(t)),s=c.data,n=c.error,r=c.isLoaded,j=a.a.useContext(y),b=j.authState,d=(j.setAuthState,j.userState);return null!==n?Object(u.jsxs)("div",{children:["Error: ",n.message]}):r?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{md:"auto",children:Object(u.jsx)("img",{src:null==s.avatar?"/default_avatar.jpg":new URL(s.avatar),style:{width:"120px",height:"120px",padding:"0px"}})}),Object(u.jsxs)(v.a,{md:"auto",children:[Object(u.jsx)("h1",{children:s.username}),Object(u.jsx)("p",{children:s.name})]})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.a.Header,{children:Object(u.jsxs)(p.a,{className:"justify-content-between",children:[Object(u.jsx)(v.a,{xs:"auto",children:"Information"}),Object(u.jsx)(v.a,{xs:"auto",children:b&&null!=d&&(s.username==d.username||d.privilege>1)?Object(u.jsx)(i.b,{to:"/user/"+t+"/edit",children:Object(u.jsx)(C.a,{children:"Edit"})}):""})]})}),Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Username:"})}),Object(u.jsx)(v.a,{children:s.username})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Name:"})}),Object(u.jsx)(v.a,{children:s.name})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Bio:"})}),Object(u.jsx)(v.a,{children:s.bio})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Birthday:"})}),Object(u.jsx)(v.a,{children:s.birthday})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"Gender:"})}),Object(u.jsx)(v.a,{children:s.gender})]})})]})})]}),Object(u.jsx)("br",{}),s.private?Object(u.jsx)("h1",{children:"This account's posts are private"}):Object(u.jsx)(B,{user:s.username})]})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function P(e){var t=Object(l.g)().userName,c=Object(l.f)(),n=Object(s.useState)(""),r=Object(j.a)(n,2),i=(r[0],r[1]),b=Object(s.useState)(""),o=Object(j.a)(b,2),x=o[0],f=o[1],p=Object(s.useState)(""),v=Object(j.a)(p,2),g=v[0],k=v[1],N=Object(s.useState)(""),L=Object(j.a)(N,2),w=L[0],I=L[1],E=Object(s.useState)(""),B=Object(j.a)(E,2),A=B[0],P=B[1],G=Object(s.useState)(!1),U=Object(j.a)(G,2),R=U[0],T=U[1],D=Object(s.useState)(!1),_=Object(j.a)(D,2),H=_[0],F=_[1],J=a.a.useContext(y),q=(J.authState,J.setAuthState),V=(J.userState,J.setUserState),W=h("/user/"+String(t)),z=W.data,M=(W.error,W.isLoaded),Y=Object(s.useRef)(1);Object(s.useEffect)((function(){return Y.current=1,function(){Y.current=0}}));var K=function(){M&&Y&&(i(z.avatar),f(z.bio),k(z.birthday),I(z.gender),P(z.name),T(z.private))};Object(s.useEffect)((function(){K()}),[M]);return M?Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.a.Header,{children:Object(u.jsx)("h2",{children:"Edit Profile"})}),Object(u.jsxs)(O.a.Body,{children:[Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void(""!=x&&""!=A&&0!=H?d.put("/user/"+t,{username:t,name:A,bio:x,gender:w,private:R,birthday:String(g)}).then((function(e){200==e.status?alert("success"):alert("fail"),c.push("/user/"+z.username)})).catch((function(e){alert(e)})):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Name"}),Object(u.jsx)(S.a.Control,{value:A,onChange:function(e){return P(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Bio"}),Object(u.jsx)(S.a.Control,{as:"textarea",rows:"9",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Gender"}),Object(u.jsx)(S.a.Control,{value:w,onChange:function(e){return I(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(S.a.Group,{children:Object(u.jsx)(S.a.Check,{type:"checkbox",value:R,checked:R,onChange:function(e){return T(!R)},label:"Private"})}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Birthday"}),Object(u.jsx)(S.a.Control,{type:"date",placeholder:"Date of Birth",value:g,onChange:function(e){return k(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(S.a.Check,{type:"checkbox",value:H,checked:H,onChange:function(e){return F(!H)},label:"Confirm"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]}),Object(u.jsx)(C.a,{variant:"warning",onClick:K,children:"Clear Changes"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{variant:"danger",onClick:function(){d.delete("/user/"+t).then((function(e){200==e.status?(localStorage.removeItem("access_token"),q(!1),V(null),alert("account deleted"),c.push("/")):alert("fail")})).catch((function(e){alert(e)}))},children:"Delete Account"})]})]}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}var G=c(159);function U(e){var t=Object(l.g)().userName,c=Object(l.f)(),a=Object(s.useState)(""),n=Object(j.a)(a,2),r=n[0],i=n[1],b=Object(s.useState)(""),o=Object(j.a)(b,2),x=o[0],f=o[1],p=h("/user/"+String(t)),v=p.data,g=(p.error,p.isLoaded),y=Object(s.useRef)(1);Object(s.useEffect)((function(){return y.current=1,function(){y.current=0}}));Object(s.useEffect)((function(){g&&y&&i(v.avatar)}),[g]);return g?Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.a.Header,{children:Object(u.jsx)("h2",{children:"Edit Avatar"})}),Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void(""!=r?function(){var e=new FormData;e.append("file",r),e.append("filename",r.name),d.post("/upload/avatar/"+t,e).then((function(e){200==e.status?alert("success"):alert("fail"),c.push("/user/"+v.username)})).catch((function(e){alert(e)}))}():alert("please do not leave any fields blank"))},children:[Object(u.jsx)(S.a,{children:Object(u.jsx)(S.a.File,{id:"custom-file",label:"Upload a new avatar",custom:!0,onChange:function(e){i(e.target.files[0]),f(URL.createObjectURL(e.target.files[0]))}})}),Object(u.jsx)(G.a,{src:x,style:{width:"120px",height:"120px",padding:"0px"}}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})]}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function R(e){var t=Object(l.g)().userName,c=(Object(l.f)(),h("/auth/user/"+t)),s=c.data;c.error;return c.isLoaded?Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.a.Header,{children:Object(u.jsx)("h2",{children:"Edit Credentials"})}),Object(u.jsxs)(O.a.Body,{children:[Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Username:"})}),Object(u.jsx)(v.a,{children:s.username})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Email:"})}),Object(u.jsx)(v.a,{children:s.email})]})}),Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Privilege:"})}),Object(u.jsx)(v.a,{children:+s.privilege})]})})]}),Object(u.jsx)(i.b,{to:"/forgotpassword",children:"Reset Password"})]})]}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function T(e){var t=Object(l.g)().userName,c=Object(l.f)(),n=Object(s.useState)(!1),r=Object(j.a)(n,2),i=r[0],b=r[1],o=a.a.useContext(y),x=(o.authState,o.setAuthState,o.userState,o.setUserState,h("/auth/user/"+t)),f=x.data,p=(x.error,x.isLoaded),v=Object(s.useRef)(1);Object(s.useEffect)((function(){return v.current=1,function(){v.current=0}}));var g=function(){p&&v&&b(f.privilege>1)};Object(s.useEffect)((function(){g()}),[p]);return p?Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.a.Header,{children:Object(u.jsx)("h2",{children:"Edit Profile"})}),Object(u.jsxs)(O.a.Body,{children:[Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void d.put("auth/user/privilege/"+t,{privilege:i?2:1}).then((function(e){200==e.status?alert("success"):alert("fail"),c.push("/user/"+f.username)})).catch((function(e){alert(e)}))},children:[Object(u.jsx)(S.a.Check,{type:"checkbox",value:i,checked:i,onChange:function(e){return b(!i)},label:"Administrator"}),Object(u.jsx)("br",{}),Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]}),Object(u.jsx)(C.a,{variant:"warning",onClick:g,children:"Clear Changes"})]})]}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}var D=c(165);function _(e){var t=Object(l.g)().userName,c=Object(l.f)(),n=a.a.useContext(y),r=n.authState,i=n.userState,b=Object(s.useState)(1),d=Object(j.a)(b,2),h=d[0],O=d[1];return Object(s.useEffect)((function(){(!r||null==i||t!=i.username&&i.privilege<=1)&&c.push("/")})),Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsx)(v.a,{md:"8",children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{md:"2",children:Object(u.jsxs)(D.a,{defaultActiveKey:"/home",className:"flex-column",children:[Object(u.jsx)(D.a.Link,{onClick:function(){return O(1)},children:"Profile"}),Object(u.jsx)(D.a.Link,{onClick:function(){return O(2)},children:"Credentials"}),Object(u.jsx)(D.a.Link,{onClick:function(){return O(3)},children:"Avatar"}),null!=i&&i.privilege>1?Object(u.jsx)(D.a.Link,{onClick:function(){return O(4)},children:"Admin"}):""]})}),Object(u.jsx)(v.a,{children:function(e){switch(h){case 1:return Object(u.jsx)(P,{});case 2:return Object(u.jsx)(R,{});case 3:return Object(u.jsx)(U,{});case 4:return Object(u.jsx)(T,{})}}()})]})})})})})})}var H=c(161),F=c(160);function J(){var e=Object(l.f)(),t=a.a.useContext(y),c=(t.authState,t.setAuthState),s=(t.userState,t.setUserState);return Object(u.jsx)(F.a.Item,{onClick:function(t){d.delete("/auth/token").then((function(t){200==t.status&&(localStorage.removeItem("access_token"),c(!1),s(null),alert("logged out"),e.push("/"))})).catch((function(e){alert(e)}))},children:"Logout"})}function q(){var e=a.a.useContext(y),t=e.authState,c=(e.setAuthState,e.userState);e.setUserState;return Object(u.jsxs)(H.a,{bg:"dark",variant:"dark",expand:"md",style:{padding:"5px"},children:[Object(u.jsx)(H.a.Brand,{href:"/",children:"Web Template"}),Object(u.jsx)(H.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(u.jsxs)(H.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-between",children:[Object(u.jsxs)(D.a,{className:"mr-auto",children:[Object(u.jsx)(D.a.Link,{children:Object(u.jsx)(i.b,{to:"/",children:"Home"})}),t&&null!=c?Object(u.jsx)(D.a.Link,{children:Object(u.jsx)(i.b,{to:"/create",children:"Create"})}):""]}),Object(u.jsx)(D.a,{children:t&&null!=c?Object(u.jsxs)(F.a,{title:c.username,id:"collasible-nav-dropdown",children:[Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(o,{user:c.username})}),c.privilege>1?Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(i.b,{to:"/admin/posts",children:"Posts"})}),Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(i.b,{to:"/admin/users",children:"Users"})}),Object(u.jsx)(F.a.Item,{children:Object(u.jsx)(i.b,{to:"/admin/topics",children:"Topics"})})]}):"",Object(u.jsx)(J,{})]}):Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)(D.a.Link,{children:Object(u.jsx)(i.b,{to:"/login",children:"Login"})}),Object(u.jsx)(D.a.Link,{children:Object(u.jsx)(i.b,{to:"/register",children:"Register"})})]})})]})]})}function V(e){var t=Object(l.f)(),c=a.a.useContext(y),n=c.authState,r=(c.setAuthState,c.userState),j=(c.setUserState,Object(s.useRef)(1)),b=h("/post"),d=b.data,x=(b.error,b.isLoaded);return Object(s.useEffect)((function(){return j.current=1,(!n||null==r||r.privilege<=1)&&t.push("/"),function(){j.current=0}})),x?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Admin Posts"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:0==d.length?Object(u.jsx)("h4",{children:"This user hasn't made any posts yet..."}):Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:Object(u.jsx)("b",{children:"Id"})}),Object(u.jsx)(v.a,{sm:"4",children:Object(u.jsx)("b",{children:"Title"})}),Object(u.jsx)(v.a,{sm:"5",children:Object(u.jsx)("b",{children:"Date"})}),Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)("b",{children:"User"})})]})}),d.map((function(e){return Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:e.id}),Object(u.jsx)(v.a,{sm:"4",children:Object(u.jsx)(i.b,{to:"/post/"+e.id,children:e.title})}),Object(u.jsx)(v.a,{sm:"5",children:e.created_date}),Object(u.jsx)(v.a,{sm:"2",children:Object(u.jsx)(o,{user:e.user})})]})})}))]})})})]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function W(e){var t=Object(l.f)(),c=a.a.useContext(y),n=c.authState,r=(c.setAuthState,c.userState),j=(c.setUserState,Object(s.useRef)(1)),i=h("/user"),b=i.data,d=(i.error,i.isLoaded);return Object(s.useEffect)((function(){return j.current=1,(!n||null==r||r.privilege<=1)&&t.push("/"),function(){j.current=0}})),d?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Admin Users"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:0==b.length?Object(u.jsx)("h4",{children:"This user hasn't made any posts yet..."}):Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Username"})}),Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Name"})}),Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Birthday"})}),Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)("b",{children:"Gender"})})]})}),b.map((function(e){return Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"3",children:Object(u.jsx)(o,{user:e.username})}),Object(u.jsx)(v.a,{sm:"3",children:e.name}),Object(u.jsx)(v.a,{sm:"3",children:e.gender}),Object(u.jsx)(v.a,{sm:"3",children:e.birthday})]})})}))]})})})]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}var z=c(96);function M(e){var t=Object(l.f)(),c=a.a.useContext(y),n=c.authState,r=(c.setAuthState,c.userState),j=(c.setUserState,Object(s.useRef)(1)),b=h("/topic"),d=b.data,o=(b.error,b.isLoaded);return Object(s.useEffect)((function(){return j.current=1,(!n||null==r||r.privilege<=1)&&t.push("/"),function(){j.current=0}})),o?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Admin Topics"}),Object(u.jsx)(i.b,{to:"/admin/topics/create",children:Object(u.jsx)(z.a,{children:"Add"})}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:0==d.length?Object(u.jsx)("h4",{children:"There are currently no topics"}):Object(u.jsxs)(N.a,{variant:"flush",children:[Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:Object(u.jsx)("b",{children:"Name"})}),Object(u.jsx)(v.a,{sm:"4",children:Object(u.jsx)("b",{children:"Description"})})]})}),d.map((function(e){return Object(u.jsx)(N.a.Item,{children:Object(u.jsxs)(p.a,{children:[Object(u.jsx)(v.a,{sm:"1",children:e.name}),Object(u.jsx)(v.a,{sm:"4",children:e.description})]})})}))]})})})]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function Y(e){var t=h("/auth/verify/"+Object(l.g)().challenge),c=(t.data,t.error),s=t.isLoaded;return null!==c?Object(u.jsxs)("div",{children:["Verification failed: ",c.message]}):s?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Success"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:"Your email has been sucesfully verified, you may log in"})})]})})})})}):Object(u.jsx)(m.a,{animation:"border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}function K(){return Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Verification Required"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:"A verification link has been sent to the email you signed up with, check your inbox."})})]})})})})})}function Q(){var e=Object(l.f)(),t=Object(s.useState)(""),c=Object(j.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),b=i[0],h=i[1],o=Object(s.useState)(!1),x=Object(j.a)(o,2),g=x[0],y=x[1];return b?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Reset Request Sent"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:"A password reset link has been sent to the email you signed up with, check your inbox."})})]})})})})}):Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Forgot Password"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(t){return t.preventDefault(),void(""!=a?(d.post("/auth/requestreset",{email:a}).then((function(e){200==e.status?h(!0):alert(e),y(!1)})).catch((function(t){401==t.response.status?e.push("/verify/instructions"):alert(t),y(!1)})),y(!0)):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Enter your email"}),Object(u.jsx)(S.a.Control,{type:"email",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsx)("br",{}),g?Object(u.jsx)(m.a,{animation:"border",role:"status"}):Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})})]})})})})})}function X(e){var t=Object(l.g)().challenge,c=Object(s.useState)(""),a=Object(j.a)(c,2),n=a[0],r=a[1],i=Object(s.useState)(""),b=Object(j.a)(i,2),h=b[0],o=b[1],x=Object(s.useState)(!1),g=Object(j.a)(x,2),y=g[0],k=g[1],N=Object(s.useState)(!1),L=Object(j.a)(N,2),w=L[0],I=L[1];return y?Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Reset Succeeded"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:"Your Password has been changed, you may now log in."})})]})})})})}):Object(u.jsx)(f.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{className:"justify-content-md-center",children:Object(u.jsxs)(v.a,{md:"8",children:[Object(u.jsx)("h1",{children:"Reset Password"}),Object(u.jsx)(O.a,{children:Object(u.jsx)(O.a.Body,{children:Object(u.jsxs)(S.a,{onSubmit:function(e){return e.preventDefault(),void(""!=n&&n==h?(d.post("/auth/reset/"+t,{password:n}).then((function(e){200==e.status?k(!0):alert(e),I(!1)})).catch((function(e){alert(e),I(!1)})),I(!0)):alert("please do not leave any fields blank"))},children:[Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Password"}),Object(u.jsx)(S.a.Control,{type:"password",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{children:[Object(u.jsx)(S.a.Label,{children:"Confirm Password"}),Object(u.jsx)(S.a.Control,{type:"password",value:h,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("br",{}),w?Object(u.jsx)(m.a,{animation:"border",role:"status"}):Object(u.jsx)(C.a,{type:"submit",children:"Submit"})]})})})]})})})})})}function Z(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),r=Object(j.a)(n,2),b=r[0],h=r[1];return function(e,t,c,a){var n=Object(s.useState)(null),r=Object(j.a)(n,2),i=r[0],l=r[1];Object(s.useEffect)((function(){null===localStorage.getItem("access_token")||1==e&&null!=c||d.get("/auth/user").then((function(e){200==e.status&&(t(!0),a(e.data),console.log(e.data))})).catch((function(e){l(e)}))}),[e,c])}(c,a,b,h),Object(u.jsx)(y.Provider,{value:{authState:c,setAuthState:a,userState:b,setUserState:h},children:Object(u.jsxs)(i.a,{basename:"/",children:[Object(u.jsx)(q,{}),Object(u.jsx)("div",{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(g,{})}),Object(u.jsx)(l.a,{path:"/reset/:challenge",children:Object(u.jsx)(X,{})}),Object(u.jsx)(l.a,{path:"/verify/instructions",children:Object(u.jsx)(K,{})}),Object(u.jsx)(l.a,{path:"/verify/confirm/:challenge",children:Object(u.jsx)(Y,{})}),Object(u.jsx)(l.a,{path:"/admin",children:Object(u.jsx)(te,{})}),Object(u.jsx)(l.a,{path:"/post",children:Object(u.jsx)($,{})}),Object(u.jsx)(l.a,{path:"/user",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(l.a,{path:"/create",children:Object(u.jsx)(k,{})}),Object(u.jsx)(l.a,{path:"/register",children:Object(u.jsx)(E,{})}),Object(u.jsx)(l.a,{path:"/login",children:Object(u.jsx)(I,{})}),Object(u.jsx)(l.a,{path:"/forgotpassword",children:Object(u.jsx)(Q,{})})]})})]})})}function $(){var e=Object(l.h)();Object(l.g)().id;return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"".concat(e.path,"/:postId/edit"),children:Object(u.jsx)(w,{})}),Object(u.jsx)(l.a,{path:"".concat(e.path,"/:postId"),children:Object(u.jsx)(L,{})}),Object(u.jsx)(l.a,{path:e.path})]})}function ee(){var e=Object(l.h)();return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"".concat(e.path,"/:userName/edit"),children:Object(u.jsx)(_,{})}),Object(u.jsx)(l.a,{path:"".concat(e.path,"/:userName"),children:Object(u.jsx)(A,{})}),Object(u.jsx)(l.a,{path:e.path,children:"g"})]})}function te(){var e=Object(l.h)();return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"".concat(e.path,"/posts"),children:Object(u.jsx)(V,{})}),Object(u.jsx)(l.a,{path:"".concat(e.path,"/users"),children:Object(u.jsx)(W,{})}),Object(u.jsx)(l.a,{path:"".concat(e.path,"/topics"),children:Object(u.jsx)(M,{})}),Object(u.jsx)(l.a,{path:e.path,children:"g"})]})}c(128),c(129);r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Z,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.ab7977a3.chunk.js.map